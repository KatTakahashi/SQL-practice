# スッキリわかる SQL 入門 第 2 版

## 第 Ⅱ 部　 SQL を使いこなそう

### 第 6 章　集計とグループ化

#### 集計関数

| 分類 | 関数名 | 説明                     |
| ---- | ------ | :----------------------- |
| 集計 | SUM    | 各行の値の合計を求める   |
| 集計 | MAX    | 各行の値の最大値を求める |
| 集計 | MIN    | 各行の値の最小値を求める |
| 集計 | AVG    | 各行の値の平均値を求める |
| 計数 | COUNT  | 行数をカウントする       |

- 結果表は必ず 1 行になる
- SELECT 文でしか利用できない
- 結果表がデコボコ型になる SQL 文はエラーとなる

##### 例：select sum(出金額) as 出金額の合計 from 家計簿

#### データをグループに分ける

| select グループ化の基準カラム名, 集計関数 from テーブル名 group by グループ化の基準カラム名 |
| (テーブル名)から(グループ化の基準カラム名)のデータを(集計関数)により集計し、グループ別に取得 |

- 集計関数は where 句に利用できない
- where 句の代わりに having 句を使用

##### 例：select 費目, sum(出金額) as 費目別の出金額合計 from 家計簿 group by 費目 having sum(出金額) > 0
